extern crate tiny_http;
use std::env;
use self::tiny_http::{Server, Response};

pub struct JobListener{
	pub server_name: String
}

impl JobListener{
	pub fn new(server: String) -> JobListener{
		JobListener{server_name: server}
	}

	pub fn start(&self){

	let server = Server::http(self.server_name.to).unwrap();

	for request in server.incoming_requests() {
    println!("received request! method: {:?}, url: {:?}, headers: {:?}",
        request.method(),
        request.url(),
        request.headers()
    );

    let response = Response::from_string("hello world");
    request.respond(response);
	}
}
}